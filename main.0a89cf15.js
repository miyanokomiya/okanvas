parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"aSor":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Component=v,exports.Fragment=h,exports.cloneElement=O,exports.createContext=R,exports.h=exports.createElement=f,exports.createRef=d,exports.hydrate=H,exports.render=F,exports.toChildArray=C,exports.options=exports.isValidElement=void 0;var e,n,t,_,l,o,r,i={},u=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(e,n){for(var t in n)e[t]=n[t];return e}function p(e){var n=e.parentNode;n&&n.removeChild(e)}function f(n,t,_){var l,o,r,i={};for(r in t)"key"==r?l=t[r]:"ref"==r?o=t[r]:i[r]=t[r];if(arguments.length>2&&(i.children=arguments.length>3?e.call(arguments,2):_),"function"==typeof n&&null!=n.defaultProps)for(r in n.defaultProps)void 0===i[r]&&(i[r]=n.defaultProps[r]);return a(n,i,l,o,null)}function a(e,_,l,o,r){var i={type:e,props:_,key:l,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++t:r};return null==r&&null!=n.vnode&&n.vnode(i),i}function d(){return{current:null}}function h(e){return e.children}function v(e,n){this.props=e,this.context=n}function y(e,n){if(null==n)return e.__?y(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?y(e):null}function m(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return m(e)}}function g(e){(!e.__d&&(e.__d=!0)&&l.push(e)&&!k.__r++||o!==n.debounceRendering)&&((o=n.debounceRendering)||setTimeout)(k)}function k(){for(var e;k.__r=l.length;)e=l.sort(function(e,n){return e.__v.__b-n.__v.__b}),l=[],e.some(function(e){var n,t,_,l,o,r;e.__d&&(o=(l=(n=e).__v).__e,(r=n.__P)&&(t=[],(_=c({},l)).__v=l.__v+1,D(r,l,_,n.__n,void 0!==r.ownerSVGElement,null!=l.__h?[o]:null,t,null==o?y(l):o,l.__h),T(t,l),l.__e!=o&&m(l)))})}function b(e,n,t,_,l,o,r,s,c,p){var f,d,v,m,g,k,b,C=_&&_.__k||u,E=C.length;for(t.__k=[],f=0;f<n.length;f++)if(null!=(m=t.__k[f]=null==(m=n[f])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?a(null,m,null,null,m):Array.isArray(m)?a(h,{children:m},null,null,null):m.__b>0?a(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)){if(m.__=t,m.__b=t.__b+1,null===(v=C[f])||v&&m.key==v.key&&m.type===v.type)C[f]=void 0;else for(d=0;d<E;d++){if((v=C[d])&&m.key==v.key&&m.type===v.type){C[d]=void 0;break}v=null}D(e,m,v=v||i,l,o,r,s,c,p),g=m.__e,(d=m.ref)&&v.ref!=d&&(b||(b=[]),v.ref&&b.push(v.ref,null,m),b.push(d,m.__c||g,m)),null!=g?(null==k&&(k=g),"function"==typeof m.type&&m.__k===v.__k?m.__d=c=x(m,c,e):c=S(e,m,v,C,g,c),"function"==typeof t.type&&(t.__d=c)):c&&v.__e==c&&c.parentNode!=e&&(c=y(v))}for(t.__e=k,f=E;f--;)null!=C[f]&&W(C[f],C[f]);if(b)for(f=0;f<b.length;f++)N(b[f],b[++f],b[++f])}function x(e,n,t){for(var _,l=e.__k,o=0;l&&o<l.length;o++)(_=l[o])&&(_.__=e,n="function"==typeof _.type?x(_,n,t):S(t,_,_,l,_.__e,n));return n}function C(e,n){return n=n||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){C(e,n)}):n.push(e)),n}function S(e,n,t,_,l,o){var r,i,u;if(void 0!==n.__d)r=n.__d,n.__d=void 0;else if(null==t||l!=o||null==l.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(l),r=null;else{for(i=o,u=0;(i=i.nextSibling)&&u<_.length;u+=2)if(i==l)break e;e.insertBefore(l,o),r=o}return void 0!==r?r:l.nextSibling}function E(e,n,t,_,l){var o;for(o in t)"children"===o||"key"===o||o in n||w(e,o,null,t[o],_);for(o in n)l&&"function"!=typeof n[o]||"children"===o||"key"===o||"value"===o||"checked"===o||t[o]===n[o]||w(e,o,n[o],t[o],_)}function P(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]=null==t?"":"number"!=typeof t||s.test(n)?t:t+"px"}function w(e,n,t,_,l){var o;e:if("style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(n in _)t&&n in t||P(e.style,n,"");if(t)for(n in t)_&&t[n]===_[n]||P(e.style,n,t[n])}else if("o"===n[0]&&"n"===n[1])o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=t,t?_||e.addEventListener(n,o?A:U,o):e.removeEventListener(n,o?A:U,o);else if("dangerouslySetInnerHTML"!==n){if(l)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null==t||!1===t&&-1==n.indexOf("-")?e.removeAttribute(n):e.setAttribute(n,t))}}function U(e){this.l[e.type+!1](n.event?n.event(e):e)}function A(e){this.l[e.type+!0](n.event?n.event(e):e)}function D(e,t,_,l,o,r,i,u,s){var p,f,a,d,y,m,g,k,x,C,S,E,P,w,U,A=t.type;if(void 0!==t.constructor)return null;null!=_.__h&&(s=_.__h,u=t.__e=_.__e,t.__h=null,r=[u]),(p=n.__b)&&p(t);try{e:if("function"==typeof A){if(k=t.props,x=(p=A.contextType)&&l[p.__c],C=p?x?x.props.value:p.__:l,_.__c?g=(f=t.__c=_.__c).__=f.__E:("prototype"in A&&A.prototype.render?t.__c=f=new A(k,C):(t.__c=f=new v(k,C),f.constructor=A,f.render=L),x&&x.sub(f),f.props=k,f.state||(f.state={}),f.context=C,f.__n=l,a=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=A.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=c({},f.__s)),c(f.__s,A.getDerivedStateFromProps(k,f.__s))),d=f.props,y=f.state,a)null==A.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==A.getDerivedStateFromProps&&k!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(k,C),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(k,f.__s,C)||t.__v===_.__v){for(f.props=k,f.state=f.__s,t.__v!==_.__v&&(f.__d=!1),f.__v=t,t.__e=_.__e,t.__k=_.__k,t.__k.forEach(function(e){e&&(e.__=t)}),S=0;S<f._sb.length;S++)f.__h.push(f._sb[S]);f._sb=[],f.__h.length&&i.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(k,f.__s,C),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(d,y,m)})}if(f.context=C,f.props=k,f.__v=t,f.__P=e,E=n.__r,P=0,"prototype"in A&&A.prototype.render){for(f.state=f.__s,f.__d=!1,E&&E(t),p=f.render(f.props,f.state,f.context),w=0;w<f._sb.length;w++)f.__h.push(f._sb[w]);f._sb=[]}else do{f.__d=!1,E&&E(t),p=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++P<25);f.state=f.__s,null!=f.getChildContext&&(l=c(c({},l),f.getChildContext())),a||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(d,y)),U=null!=p&&p.type===h&&null==p.key?p.props.children:p,b(e,Array.isArray(U)?U:[U],t,_,l,o,r,i,u,s),f.base=t.__e,t.__h=null,f.__h.length&&i.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==r&&t.__v===_.__v?(t.__k=_.__k,t.__e=_.__e):t.__e=M(_.__e,t,_,l,o,r,i,s);(p=n.diffed)&&p(t)}catch(e){t.__v=null,(s||null!=r)&&(t.__e=u,t.__h=!!s,r[r.indexOf(u)]=null),n.__e(e,t,_)}}function T(e,t){n.__c&&n.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){n.__e(e,t.__v)}})}function M(n,t,_,l,o,r,u,s){var c,f,a,d=_.props,h=t.props,v=t.type,m=0;if("svg"===v&&(o=!0),null!=r)for(;m<r.length;m++)if((c=r[m])&&"setAttribute"in c==!!v&&(v?c.localName===v:3===c.nodeType)){n=c,r[m]=null;break}if(null==n){if(null===v)return document.createTextNode(h);n=o?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,h.is&&h),r=null,s=!1}if(null===v)d===h||s&&n.data===h||(n.data=h);else{if(r=r&&e.call(n.childNodes),f=(d=_.props||i).dangerouslySetInnerHTML,a=h.dangerouslySetInnerHTML,!s){if(null!=r)for(d={},m=0;m<n.attributes.length;m++)d[n.attributes[m].name]=n.attributes[m].value;(a||f)&&(a&&(f&&a.__html==f.__html||a.__html===n.innerHTML)||(n.innerHTML=a&&a.__html||""))}if(E(n,h,d,o,s),a)t.__k=[];else if(m=t.props.children,b(n,Array.isArray(m)?m:[m],t,_,l,o&&"foreignObject"!==v,r,u,r?r[0]:_.__k&&y(_,0),s),null!=r)for(m=r.length;m--;)null!=r[m]&&p(r[m]);s||("value"in h&&void 0!==(m=h.value)&&(m!==n.value||"progress"===v&&!m||"option"===v&&m!==d.value)&&w(n,"value",m,d.value,!1),"checked"in h&&void 0!==(m=h.checked)&&m!==n.checked&&w(n,"checked",m,d.checked,!1))}return n}function N(e,t,_){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,_)}}function W(e,t,_){var l,o;if(n.unmount&&n.unmount(e),(l=e.ref)&&(l.current&&l.current!==e.__e||N(l,null,t)),null!=(l=e.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(e){n.__e(e,t)}l.base=l.__P=null,e.__c=void 0}if(l=e.__k)for(o=0;o<l.length;o++)l[o]&&W(l[o],t,_||"function"!=typeof e.type);_||null==e.__e||p(e.__e),e.__=e.__e=e.__d=void 0}function L(e,n,t){return this.constructor(e,t)}function F(t,_,l){var o,r,u;n.__&&n.__(t,_),r=(o="function"==typeof l)?null:l&&l.__k||_.__k,u=[],D(_,t=(!o&&l||_).__k=f(h,null,[t]),r||i,i,void 0!==_.ownerSVGElement,!o&&l?[l]:r?null:_.firstChild?e.call(_.childNodes):null,u,!o&&l?l:r?r.__e:_.firstChild,o),T(u,t)}function H(e,n){F(e,n,H)}function O(n,t,_){var l,o,r,i=c({},n.props);for(r in t)"key"==r?l=t[r]:"ref"==r?o=t[r]:i[r]=t[r];return arguments.length>2&&(i.children=arguments.length>3?e.call(arguments,2):_),a(n.type,i,l||n.key,o||n.ref,null)}function R(e,n){var t={__c:n="__cC"+r++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var t,_;return this.getChildContext||(t=[],(_={})[n]=this,this.getChildContext=function(){return _},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some(g)},this.sub=function(e){t.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Provider.__=t.Consumer.contextType=t}exports.isValidElement=_,exports.options=n,e=u.slice,exports.options=n={__e:function(e,n,t,_){for(var l,o,r;n=n.__;)if((l=n.__c)&&!l.__)try{if((o=l.constructor)&&null!=o.getDerivedStateFromError&&(l.setState(o.getDerivedStateFromError(e)),r=l.__d),null!=l.componentDidCatch&&(l.componentDidCatch(e,_||{}),r=l.__d),r)return l.__E=l}catch(n){e=n}throw e}},t=0,exports.isValidElement=_=function(e){return null!=e&&void 0===e.constructor},v.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),"function"==typeof e&&(e=e(c({},t),this.props)),e&&c(t,e),null!=e&&this.__v&&(n&&this._sb.push(n),g(this))},v.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g(this))},v.prototype.render=h,l=[],k.__r=0,r=0;
},{}],"MwGB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCallback=E,exports.useContext=N,exports.useDebugValue=V,exports.useEffect=m,exports.useErrorBoundary=b,exports.useId=g,exports.useImperativeHandle=x,exports.useLayoutEffect=d,exports.useMemo=y,exports.useReducer=l,exports.useRef=H,exports.useState=v;var _,n,t,o,e=require("preact"),r=0,u=[],i=[],c=e.options.__b,f=e.options.__r,s=e.options.diffed,a=e.options.__c,p=e.options.unmount;function h(_,t){e.options.__h&&e.options.__h(n,_,r||t),r=0;var o=n.__H||(n.__H={__:[],__h:[]});return _>=o.__.length&&o.__.push({__V:i}),o.__[_]}function v(_){return r=1,l(P,_)}function l(t,o,e){var r=h(_++,2);if(r.t=t,!r.__c&&(r.__=[e?e(o):P(void 0,o),function(_){var n=r.__N?r.__N[0]:r.__[0],t=r.t(n,_);n!==t&&(r.__N=[t,r.__[1]],r.__c.setState({}))}],r.__c=n,!n.u)){n.u=!0;var u=n.shouldComponentUpdate;n.shouldComponentUpdate=function(_,n,t){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter(function(_){return _.__c});if(o.every(function(_){return!_.__N}))return!u||u.call(this,_,n,t);var e=!1;return o.forEach(function(_){if(_.__N){var n=_.__[0];_.__=_.__N,_.__N=void 0,n!==_.__[0]&&(e=!0)}}),!(!e&&r.__c.props===_)&&(!u||u.call(this,_,n,t))}}return r.__N||r.__}function m(t,o){var r=h(_++,3);!e.options.__s&&k(r.__H,o)&&(r.__=t,r.i=o,n.__H.__h.push(r))}function d(t,o){var r=h(_++,4);!e.options.__s&&k(r.__H,o)&&(r.__=t,r.i=o,n.__h.push(r))}function H(_){return r=5,y(function(){return{current:_}},[])}function x(_,n,t){r=6,d(function(){return"function"==typeof _?(_(n()),function(){return _(null)}):_?(_.current=n(),function(){return _.current=null}):void 0},null==t?t:t.concat(_))}function y(n,t){var o=h(_++,7);return k(o.__H,t)?(o.__V=n(),o.i=t,o.__h=n,o.__V):o.__}function E(_,n){return r=8,y(function(){return _},n)}function N(t){var o=n.context[t.__c],e=h(_++,9);return e.c=t,o?(null==e.__&&(e.__=!0,o.sub(n)),o.props.value):t.__}function V(_,n){e.options.useDebugValue&&e.options.useDebugValue(n?n(_):_)}function b(t){var o=h(_++,10),e=v();return o.__=t,n.componentDidCatch||(n.componentDidCatch=function(_,n){o.__&&o.__(_,n),e[1](_)}),[e[0],function(){e[1](void 0)}]}function g(){var t=h(_++,11);return t.__||(t.__="P"+function(_){for(var n=0,t=_.length;t>0;)n=(n<<5)-n+_.charCodeAt(--t)|0;return n}(n.__v.__m)+_),t.__}function C(){for(var _;_=u.shift();)if(_.__P&&_.__H)try{_.__H.__h.forEach(D),_.__H.__h.forEach(F),_.__H.__h=[]}catch(n){_.__H.__h=[],e.options.__e(n,_.__v)}}e.options.__b=function(_){"function"!=typeof _.type||_.__m||null===_.__?_.__m||(_.__m=_.__&&_.__.__m?_.__.__m:""):_.__m=(_.__&&_.__.__m?_.__.__m:"")+(_.__&&_.__.__k?_.__.__k.indexOf(_):0),n=null,c&&c(_)},e.options.__r=function(o){f&&f(o),_=0;var e=(n=o.__c).__H;e&&(t===n?(e.__h=[],n.__h=[],e.__.forEach(function(_){_.__N&&(_.__=_.__N),_.__V=i,_.__N=_.i=void 0})):(e.__h.forEach(D),e.__h.forEach(F),e.__h=[])),t=n},e.options.diffed=function(_){s&&s(_);var r=_.__c;r&&r.__H&&(r.__H.__h.length&&(1!==u.push(r)&&o===e.options.requestAnimationFrame||((o=e.options.requestAnimationFrame)||q)(C)),r.__H.__.forEach(function(_){_.i&&(_.__H=_.i),_.__V!==i&&(_.__=_.__V),_.i=void 0,_.__V=i})),t=n=null},e.options.__c=function(_,n){n.some(function(_){try{_.__h.forEach(D),_.__h=_.__h.filter(function(_){return!_.__||F(_)})}catch(t){n.some(function(_){_.__h&&(_.__h=[])}),n=[],e.options.__e(t,_.__v)}}),a&&a(_,n)},e.options.unmount=function(_){p&&p(_);var n,t=_.__c;t&&t.__H&&(t.__H.__.forEach(function(_){try{D(_)}catch(_){n=_}}),t.__H=void 0,n&&e.options.__e(n,t.__v))};var A="function"==typeof requestAnimationFrame;function q(_){var n,t=function(){clearTimeout(o),A&&cancelAnimationFrame(n),setTimeout(_)},o=setTimeout(t,100);A&&(n=requestAnimationFrame(t))}function D(_){var t=n,o=_.__c;"function"==typeof o&&(_.__c=void 0,o()),n=t}function F(_){var t=n;_.__c=_.__(),n=t}function k(_,n){return!_||_.length!==n.length||n.some(function(n,t){return n!==_[t]})}function P(_,n){return"function"==typeof n?n(_):n}
},{"preact":"aSor"}],"gkAU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});
},{}],"xTEr":[function(require,module,exports) {
"use strict";function t(t,e){if(!e)return{minRate:1,maxRate:1,rateW:1,rateH:1};var i=e.width/t.width,r=e.height/t.height;return{minRate:Math.min(i,r),maxRate:Math.max(i,r),rateW:i,rateH:r}}function e(t,e,i){return t?e>i?{width:t.width,height:t.height/i*e}:{width:t.width/e*i,height:t.height}:{width:1,height:1}}function i(t,e){return e?{x:(t.width-e.width)/2,y:(t.height-e.height)/2}:{x:0,y:0}}function r(r,h){if(!h)return Object.assign(Object.assign({},r),{x:0,y:0});var a=t(r,h),n=e(h,a.rateW,a.rateH),g=i(n,h);return Object.assign({x:-g.x,y:-g.y},n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRate=t,exports.getViewBoxSize=e,exports.getViewBoxMargin=i,exports.getCentralizedViewBox=r;
},{}],"HHJ7":[function(require,module,exports) {
"use strict";function e(){return"ontouchstart"in window}function n(e){return"touches"in e}function o(e){return n(e)&&e.touches.length>1}function t(e){return n(e)&&e.touches.length>0}function r(e){return n(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:{x:e.pageX,y:e.pageY}}function i(e){var o,t,r=e.currentTarget;if(!r)return{x:0,y:0};var i=r.getBoundingClientRect(),u=i.left+window.pageXOffset,s=i.top+window.pageYOffset;if(n(e)){var a=e.touches[0];o=a.pageX-u,t=a.pageY-s}else o=e.pageX-u,t=e.pageY-s;return{x:o,y:t}}function u(e){var n=e.currentTarget;if(!n)return[];for(var o=[],t=n.getBoundingClientRect(),r=t.left+window.pageXOffset,i=t.top+window.pageYOffset,u=0;u<e.touches.length;u++){var s=e.touches[u];o.push({x:s.pageX-r,y:s.pageY-i})}return o}function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=!1,t=null,i=null,u=null,s=0;return{onDown:function(e){o=!0,t=r(e),u=Object.assign({},t),i=Object.assign({},t),s=Date.now()},onMove:function(n){o&&(n.preventDefault(),u=r(n),o&&t&&u&&i&&(e({base:t,p:Object.assign({},u),d:{x:u.x-i.x,y:u.y-i.y}}),i=Object.assign({},u)))},onUp:function(){u&&Date.now()-s<100&&n(Object.assign({},u)),o=!1,t=null,u=null,i=null,s=0}}}function a(n){var o=e();return n.onDown&&(window.addEventListener("mousedown",n.onDown,!1),o&&window.addEventListener("touchstart",n.onDown,!1)),n.onMove&&(window.addEventListener("mousemove",n.onMove,!1),o&&window.addEventListener("touchmove",n.onMove,{capture:!1,passive:!1})),n.onUp&&(window.addEventListener("mouseup",n.onUp,!1),window.addEventListener("mouseleave",n.onUp,!1),o&&(window.addEventListener("touchend",n.onUp,!1),window.addEventListener("touchcancel",n.onUp,!1))),function(){n.onDown&&(window.removeEventListener("mousedown",n.onDown,!1),o&&window.removeEventListener("touchstart",n.onDown,!1)),n.onMove&&(window.removeEventListener("mousemove",n.onMove,!1),o&&window.removeEventListener("touchmove",n.onMove,{capture:!1})),n.onUp&&(window.removeEventListener("mouseup",n.onUp,!1),window.removeEventListener("mouseleave",n.onUp,!1),o&&(window.removeEventListener("touchend",n.onUp,!1),window.removeEventListener("touchcancel",n.onUp,!1)))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTouch=n,exports.isMulitTouch=o,exports.isTouchExist=t,exports.getPagePosition=r,exports.getPointInTarget=i,exports.getTouchPointsInTarget=u,exports.useDrag=s,exports.useWindowPointerEffect=a;
},{}],"CeiP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fileToBase64=t,exports.base64ToImage=r,exports.clipImage=a,exports.clipImageToBlob=i,exports.drawRectOnImage=u;var e=function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{c(n.next(e))}catch(t){a(t)}}function u(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,u)}c((n=n.apply(e,t||[])).next())})};function t(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){return t(n.result)},n.onerror=r,n.readAsDataURL(e)})}function r(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src=e})}function n(t){return e(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Image)){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,r(t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))}function o(t,r,o){return e(this,void 0,void 0,regeneratorRuntime.mark(function e(){var a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!=o?o:{width:r.width,height:r.height},e.next=3,n(t);case 3:if(i=e.sent,(u=document.createElement("canvas")).width=a.width,u.height=a.height,c=u.getContext("2d")){e.next=10;break}throw new Error("Failed to get 2d-context from a canvas.");case 10:return c.drawImage(i,r.x,r.y,r.width,r.height,0,0,u.width,u.height),e.abrupt("return",u);case 12:case"end":return e.stop()}},e)}))}function a(t,r,n){return e(this,void 0,void 0,regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t,r,n);case 2:return a=e.sent,e.abrupt("return",a.toDataURL());case 4:case"end":return e.stop()}},e)}))}function i(t,r,n){return e(this,void 0,void 0,regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t,r,n);case 2:return a=e.sent,e.abrupt("return",new Promise(function(e,t){a.toBlob(function(r){r&&e(r),t(new Error("Failed to create blob."))},"image/png")}));case 4:case"end":return e.stop()}},e)}))}function u(t,r,o){return e(this,void 0,void 0,regeneratorRuntime.mark(function e(){var a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:if(a=e.sent,(i=document.createElement("canvas")).width=a.width,i.height=a.height,u=i.getContext("2d")){e.next=9;break}throw new Error("Failed to get 2d-context from a canvas.");case 9:return u.drawImage(a,0,0,a.width,a.height),o?o(u):(u.strokeStyle="red",u.lineWidth=3),u.strokeRect(r.x,r.y,r.width,r.height),e.abrupt("return",i.toDataURL());case 13:case"end":return e.stop()}},e)}))}
},{}],"i2Nf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./types");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./canvas");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./events");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var n=require("./files");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});
},{"./types":"gkAU","./canvas":"xTEr","./events":"HHJ7","./files":"CeiP"}],"ROm1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImageRect=h,exports.useFileToBase64=d,exports.ReadImageFileDemo=g,exports.ClipImageDemo=v;var e=require("preact"),t=require("preact/hooks"),r=i(require("../src/okanvas"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function a(e,t){return l(e)||s(e,t)||u(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){i=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return r}}function l(e){if(Array.isArray(e))return e}var f=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function u(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,u)}c((n=n.apply(e,t||[])).next())})},p={flexCenter:{display:"flex",alignItems:"center",justifyContent:"center"}};function h(t){return(0,e.h)("div",{style:Object.assign(Object.assign({},p.flexCenter),{border:"1px solid #000",width:"200px",height:"200px"})},[(0,e.h)("img",{src:t.src,style:{maxWidth:"100%",maxHeight:"100%"}})])}function d(){var e=this,n=a((0,t.useState)(""),2),i=n[0],o=n[1];return{base64:i,onInput:(0,t.useCallback)(function(t){return f(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=null==t?void 0:t.target)||void 0===n?void 0:n.files){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.fileToBase64(t.target.files[0]);case 4:i=e.sent,o(i);case 6:case"end":return e.stop()}},e)}))},[])}}function g(){var t=d(),r=t.base64,n=t.onInput;return(0,e.h)("div",null,[(0,e.h)("h2",null,"fileToBase64"),(0,e.h)("input",{type:"file",onInput:n,accept:"image/*"},"fileToBase64"),h({src:r})])}function v(){var n=this,i=a((0,t.useState)(""),2),o=i[0],u=i[1],c=a((0,t.useState)(""),2),s=c[0],l=c[1],p=a((0,t.useState)(""),2),d=p[0],g=p[1],v=(0,t.useCallback)(function(e){return f(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,a,o,c,s,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(n=null==e?void 0:e.target)||void 0===n?void 0:n.files){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,r.fileToBase64(e.target.files[0]);case 4:return i=t.sent,t.next=7,r.base64ToImage(i);case 7:return a=t.sent,o={x:.3*a.width,y:.2*a.height,width:.4*a.width,height:.6*a.height},t.next=11,r.drawRectOnImage(a,o);case 11:return c=t.sent,t.next=14,r.clipImage(a,o);case 14:return s=t.sent,t.next=17,r.clipImage(a,o,{width:2*o.width,height:o.height});case 17:f=t.sent,u(c),l(s),g(f);case 21:case"end":return t.stop()}},t)}))},[]);return(0,e.h)("div",null,[(0,e.h)("h2",null,"clipImage"),(0,e.h)("input",{type:"file",accept:"image/*",onInput:v},"clipImage"),(0,e.h)("p",null,"src & rectangle"),h({src:o}),(0,e.h)("p",null,"clipped"),h({src:s}),(0,e.h)("p",null,"clipped & resized: width * 2"),h({src:d})])}
},{"preact":"aSor","preact/hooks":"MwGB","../src/okanvas":"i2Nf"}],"kXwH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UseDragDemo=p;var e=require("preact"),t=require("preact/hooks"),r=o(require("../src/okanvas"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function u(e,t){return f(e)||l(e,t)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,u=c}finally{try{n||null==i.return||i.return()}finally{if(o)throw u}}return r}}function f(e){if(Array.isArray(e))return e}function s(t,r){return r?(0,e.h)("p",null,"".concat(t,": { x: ").concat(r.x,", y: ").concat(r.y," }")):(0,e.h)("p",null,"".concat(t,": null"))}function p(){var n=u((0,t.useState)(null),2),o=n[0],a=n[1],i=u((0,t.useState)(null),2),c=i[0],l=i[1],f=u((0,t.useState)(null),2),p=f[0],y=f[1],d=u((0,t.useState)(null),2),b=d[0],v=d[1];return(0,t.useEffect)(function(){var e=r.useDrag(function(e){a(e.base),l(e.p),y(e.d)});return v(e),r.useWindowPointerEffect({onMove:e.onMove,onUp:e.onUp})},[]),(0,e.h)("div",null,[(0,e.h)("h2",null,"useDrag"),s("base",o),s("current",c),s("diff",p),(0,e.h)("div",Object.assign(Object.assign({},b?{onMouseDown:b.onDown,onTouchStart:b.onDown}:{}),{style:{border:"1px solid #000",width:"200px",height:"200px"}}))])}
},{"preact":"aSor","preact/hooks":"MwGB","../src/okanvas":"i2Nf"}],"tbBa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClipDemo=y,exports.ClipCanvas=d;var e=require("preact"),t=require("preact/hooks"),n=i(require("../src/okanvas")),r=require("./files");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function a(e,t){return f(e)||s(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}function f(e){if(Array.isArray(e))return e}function h(e,t,n){var r=n,o=e.x-t.x,i=e.y-t.y,a=r.x*r.x+r.y*r.y,u=(r.x*o+r.y*i)/a;return{x:r.x*u,y:r.y*u}}function y(){var t=(0,r.useFileToBase64)(),n=t.base64,o=t.onInput;return(0,e.h)("div",null,[(0,e.h)("h2",null,"clipDemo"),(0,e.h)("input",{type:"file",onInput:o,accept:"image/*"},"fileToBase64"),(0,e.createElement)(d,{base64:n,clipSize:{width:160,height:90}})])}function d(r){var o=r.base64,i=r.clipSize,u=r.viewSize;if(!i||!u)return null;var c=a((0,t.useState)(null),2),l=c[0],s=c[1],f=a((0,t.useState)(Object.assign({x:0,y:0},i)),2),y=f[0],d=f[1],v=a((0,t.useState)(null),2),g=v[0],w=v[1],x=a((0,t.useState)(null),2),b=x[0],m=x[1],S=a((0,t.useState)(null),2),M=S[0],O=S[1],j=a((0,t.useState)(""),2),z=j[0],k=j[1];(0,t.useEffect)(function(){var e=n.useDrag(function(e){m(e)});return O(e),n.useWindowPointerEffect({onMove:e.onMove,onUp:function(){e.onUp(),k(""),m(null),w(null)}})},[]);var C=(0,t.useCallback)(function(e){M&&(k("move"),w(y),M.onDown(e))},[y,M]),D=(0,t.useCallback)(function(e){M&&(k("resize"),w(y),M.onDown(e))},[y,M]);(0,t.useEffect)(function(){o&&n.base64ToImage(o).then(function(e){s(e)})},[o]),(0,t.useEffect)(function(){d(n.getCentralizedViewBox(i,l))},[i,l]);var P=(0,t.useMemo)(function(){return n.getCentralizedViewBox(i,l)},[i,l]),E=(0,t.useMemo)(function(){return"".concat(P.x," ").concat(P.y," ").concat(P.width," ").concat(P.height)},[P]),A=(0,t.useMemo)(function(){return n.getRate(u,P).maxRate},[u,P]),I=(0,t.useMemo)(function(){return l?(0,e.h)("image",{href:o,x:0,y:0,width:l.width,height:l.height}):null},[o,l]);(0,t.useEffect)(function(){if(z&&b&&g)if("move"===z)d(Object.assign(Object.assign({},g),{x:g.x+(b.p.x-b.base.x)*A,y:g.y+(b.p.y-b.base.y)*A}));else if("resize"===z){var e=h({x:g.width+(b.p.x-b.base.x)*A,y:g.height+(b.p.y-b.base.y)*A},{x:0,y:0},{x:i.width,y:i.height});d(Object.assign(Object.assign({},g),{width:e.x,height:e.y}))}},[g,z,b,A,i]);var T=(0,t.useMemo)(function(){return l?p(y,A,{onStartMove:C,onStartResize:D}):null},[l,y,A,C,D]);return(0,e.h)("div",{style:{width:"".concat(u.width,"px"),height:"".concat(u.height,"px"),padding:"8px",border:"1px solid #000",backgroundColor:"#ccc",overflow:"hidden"}},[(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:E,style:{width:"100%",height:"100%",overflow:"visible"}},[I,T])])}function p(t,n,r){return(0,e.h)("g",{transform:"translate(".concat(t.x,", ").concat(t.y,")")},[(0,e.h)("rect",{x:0,y:0,width:t.width,height:t.height,fill:"none",stroke:"red","stroke-width":4*n}),(0,e.h)("g",{onMouseDown:null==r?void 0:r.onStartMove,onTouchStart:null==r?void 0:r.onStartMove},[(0,e.h)("circle",{cx:0,cy:0,r:8*n,fill:"red",stroke:"none"})]),(0,e.h)("g",{transform:"translate(".concat(t.width,", ").concat(t.height,")"),onMouseDown:null==r?void 0:r.onStartResize,onTouchStart:null==r?void 0:r.onStartResize},[(0,e.h)("circle",{cx:0,cy:0,r:8*n,fill:"red",stroke:"none"})])])}d.defaultProps={clipSize:{width:200,height:200},viewSize:{width:200,height:200}};
},{"preact":"aSor","preact/hooks":"MwGB","../src/okanvas":"i2Nf","./files":"ROm1"}],"ZCfc":[function(require,module,exports) {
"use strict";var e=require("preact"),l=require("./files"),r=require("./events"),t=require("./clip"),i=function(){return(0,e.h)("div",null,[(0,e.h)("div",{style:{width:"200px",height:"301px"}},[(0,e.createElement)(t.ClipDemo,null)]),(0,e.createElement)(l.ReadImageFileDemo,null),(0,e.createElement)(l.ClipImageDemo,null),(0,e.createElement)(r.UseDragDemo,null)])};(0,e.render)(i(),document.body);
},{"preact":"aSor","./files":"ROm1","./events":"kXwH","./clip":"tbBa"}]},{},["ZCfc"], null)
//# sourceMappingURL=main.0a89cf15.js.map